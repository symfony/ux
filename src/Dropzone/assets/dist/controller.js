import { Controller } from '@hotwired/stimulus';

class default_1 extends Controller {
    initialize() {
        this.clear = this.clear.bind(this);
        this.onInputChange = this.onInputChange.bind(this);
        this.onDragEnter = this.onDragEnter.bind(this);
        this.onDragLeave = this.onDragLeave.bind(this);
        console.log('Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deleniti exercitationem perspiciatis provident. Cumque deserunt, dignissimos expedita hic nihil possimus ratione ullam voluptas. Beatae consequuntur cumque earum eveniet incidunt pariatur quibusdam rem reprehenderit vel voluptatibus? Aliquid dignissimos harum quibusdam repellat voluptatem. Architecto dolor dolorem dolorum ex, fugit laborum modi nesciunt nobis obcaecati omnis optio quas repellendus sapiente tempora vitae voluptate voluptatibus. Deleniti eos hic illo ipsam, mollitia non perspiciatis qui quod! Dolorem facilis inventore molestias nisi quos! Commodi dolorem ducimus eaque et eveniet, id pariatur perspiciatis qui ratione sit? Cupiditate, dicta doloremque ducimus, ex ipsa ipsum itaque labore laudantium libero nemo quam velit vitae voluptatum. Accusantium animi consequatur culpa deserunt expedita fuga iste labore magni maiores minus nam nulla placeat ratione, recusandae similique voluptas voluptates? Accusamus, alias amet debitis dolorem exercitationem ipsa magnam, necessitatibus nemo non nulla officiis praesentium quae, quam quas soluta totam voluptate voluptates? Aperiam dicta excepturi fugit, harum hic inventore ipsa modi neque nihil quae quod rem repellendus, sed sint unde voluptate voluptates? Accusamus accusantium aliquid assumenda commodi cumque cupiditate deleniti deserunt distinctio dolore ducimus eius eum fugit hic inventore laborum laudantium minima minus, molestias mollitia natus numquam obcaecati odio officiis pariatur placeat quidem rem, sed unde veniam voluptate. Aliquid consectetur cum cupiditate doloremque, ea eos impedit in ipsam magni modi molestiae natus necessitatibus, obcaecati odit officiis placeat quae quibusdam quidem quo quod quos rerum suscipit tempore ullam unde voluptate voluptatem! Aperiam consectetur consequuntur cumque delectus eius eveniet, maxime molestiae nemo nostrum perferendis provident sed soluta suscipit ullam vel. Ad aliquid, beatae, deleniti esse excepturi expedita fugiat itaque maiores necessitatibus, officia optio quidem! A ad alias cumque cupiditate distinctio eaque eveniet expedita fuga id incidunt ipsam nobis numquam provident quaerat, quas quibusdam, quo rerum sapiente, sint soluta ullam unde veniam vitae voluptates voluptatibus? Ab ad architecto aut beatae, culpa dolorum ducimus, ea eius eos error est eum ex exercitationem fuga fugiat hic ipsum nihil nisi praesentium quam qui reiciendis repellendus reprehenderit repudiandae tempora tempore vitae voluptatum. Architecto blanditiis debitis distinctio est inventore ipsam ipsum, maxime nostrum perferendis placeat, quibusdam quidem voluptatem! Aperiam deserunt dolor enim fuga, in ipsum iure laboriosam numquam perspiciatis provident quas quis, quod rerum temporibus, tenetur. A accusantium ad adipisci architecto commodi debitis dolorum eaque explicabo facere fuga ipsum iste maiores maxime, minus odio perspiciatis quae quam repellat, reprehenderit ullam voluptas voluptatem voluptatum. Ab commodi, corporis earum esse necessitatibus nesciunt nihil provident repellat repellendus! Architecto aut, consequatur debitis deleniti, dolore doloremque ex exercitationem mollitia necessitatibus non perspiciatis placeat quasi quidem sit sunt! Consequuntur dolor expedita harum inventore ipsam, suscipit voluptates. Accusamus accusantium aut beatae commodi cupiditate deleniti, distinctio eaque enim error eveniet ex expedita hic itaque maiores mollitia, natus nesciunt nobis numquam obcaecati omnis quae quas quidem, rem saepe sunt vel voluptate voluptates! Ab aliquid cum doloribus eligendi eos molestiae nam optio quod veritatis voluptates. A ab aliquam aperiam asperiores cum cupiditate enim facere, harum id minima minus modi nam nemo nihil, nobis obcaecati odit possimus sapiente, voluptas voluptates? Eos nihil quam quis temporibus. Aut exercitationem maxime rem tenetur vero! A ab ad beatae consequuntur cumque distinctio dolores excepturi ipsam, libero neque nisi numquam obcaecati perferendis placeat quae quia reprehenderit sint temporibus velit vitae! Ab assumenda consequuntur, cum eum eveniet hic id illo iste molestias nam omnis pariatur praesentium quas qui quis ratione vitae voluptatibus! Alias asperiores illo laboriosam nesciunt praesentium quaerat saepe sit unde vel. A animi, blanditiis commodi debitis enim illum impedit, inventore necessitatibus nulla praesentium repellendus, reprehenderit sunt tempora? In reprehenderit similique voluptate! Aliquam consequatur corporis dolor, quidem quisquam similique temporibus voluptates. Delectus deserunt dolore eaque magnam magni repellat repellendus tempore vitae. Ducimus eveniet illum iusto minus provident quasi quia ratione recusandae totam vitae. Atque cupiditate deserunt distinctio eaque earum, eligendi id inventore iste iusto labore laudantium maiores, minima minus perferendis praesentium quod quos rem ullam. Adipisci, amet asperiores, consequatur cupiditate debitis doloribus enim esse et illum, libero nam necessitatibus nisi perferendis quae quia sed temporibus ullam. Ad aliquid at autem beatae blanditiis corporis cum distinctio, dolor dolorem eos esse eum facilis harum, impedit incidunt ipsum magnam, minus mollitia nisi non obcaecati odit possimus quidem quo repellendus sit sunt! Ad consequuntur dolore, facere illum molestias rerum sint ullam! Alias itaque quod veniam. Atque blanditiis cum deleniti dicta dolorem eligendi ex, expedita fuga incidunt ipsa iusto maxime minus molestiae nemo nisi odit officia officiis quaerat quas quasi quibusdam quis quo reiciendis reprehenderit sequi tempore vel! Aliquam aut eum exercitationem harum illum libero minima natus numquam officia tempora? Commodi corporis, doloremque fugiat itaque minima quaerat sunt ullam voluptate! Accusantium ipsum iste quaerat tempora temporibus. Distinctio eveniet incidunt possimus quo totam. Aspernatur id ipsum quaerat? Consectetur modi natus nostrum quam quidem tempore velit. Accusantium blanditiis commodi, cumque dolorum eum expedita facere illo in, incidunt iste quibusdam repellendus sequi ullam ut voluptatum? Animi atque eveniet excepturi, expedita harum libero maiores quod velit. Ad aliquam aliquid, consectetur distinctio doloribus eaque fugit iure maiores nihil nulla odio reiciendis rem, temporibus ut veniam. Accusamus ad aliquam amet at beatae corporis cupiditate dolore dolores eius enim est et eum expedita fuga, harum illum laborum non obcaecati, officia porro possimus quasi, quod reprehenderit sint soluta sunt tempora totam. Accusamus accusantium aut debitis, delectus deleniti dignissimos dolor eaque exercitationem hic laborum minus nam necessitatibus neque nulla quos totam unde veniam. Accusamus accusantium architecto at deleniti fugit iusto quam repellendus. Atque consequatur dolorum ducimus iure mollitia perferendis velit veniam voluptatum. Accusamus aliquid aspernatur commodi consectetur consequuntur cumque cupiditate delectus dicta, dignissimos dolore dolorum fugit hic in iusto maiores maxime minima nemo nobis nulla numquam pariatur placeat possimus quas quidem quisquam, quo ratione repellat repellendus rerum sed sunt tenetur voluptate voluptatibus! Aliquam obcaecati possimus quidem sed sunt? Delectus dolor error harum obcaecati odio, officia quos repellat repudiandae temporibus veniam. Commodi dolorem harum illum iusto nulla optio perferendis ut! Atque cum ea et neque quam quas quibusdam. A accusamus accusantium animi consectetur deleniti eaque eius, eum, illo impedit in labore magni neque non, officiis perspiciatis provident quaerat quis quisquam quos recusandae repellendus sit vitae voluptatum.');
        
    }
    connect() {
        this.clear();
        this.previewClearButtonTarget.addEventListener('click', this.clear);
        this.inputTarget.addEventListener('change', this.onInputChange);
        this.element.addEventListener('dragenter', this.onDragEnter);
        this.element.addEventListener('dragleave', this.onDragLeave);
        this.dispatchEvent('connect');
    }
    disconnect() {
        this.previewClearButtonTarget.removeEventListener('click', this.clear);
        this.inputTarget.removeEventListener('change', this.onInputChange);
        this.element.removeEventListener('dragenter', this.onDragEnter);
        this.element.removeEventListener('dragleave', this.onDragLeave);
    }
    clear() {
        this.inputTarget.value = '';
        this.inputTarget.style.display = 'block';
        this.placeholderTarget.style.display = 'block';
        this.previewTarget.style.display = 'none';
        this.previewImageTarget.style.display = 'none';
        this.previewImageTarget.style.backgroundImage = 'none';
        this.previewFilenameTarget.textContent = '';
        this.dispatchEvent('clear');
    }
    onInputChange(event) {
        const file = event.target.files[0];
        if (typeof file === 'undefined') {
            return;
        }
        this.inputTarget.style.display = 'none';
        this.placeholderTarget.style.display = 'none';
        this.previewFilenameTarget.textContent = file.name;
        this.previewTarget.style.display = 'flex';
        this.previewImageTarget.style.display = 'none';
        if (file.type && file.type.indexOf('image') !== -1) {
            this._populateImagePreview(file);
        }
        this.dispatchEvent('change', file);
    }
    _populateImagePreview(file) {
        if (typeof FileReader === 'undefined') {
            return;
        }
        const reader = new FileReader();
        reader.addEventListener('load', (event) => {
            this.previewImageTarget.style.display = 'block';
            this.previewImageTarget.style.backgroundImage = `url("${event.target.result}")`;
        });
        reader.readAsDataURL(file);
    }
    onDragEnter() {
        this.inputTarget.style.display = 'block';
        this.placeholderTarget.style.display = 'block';
        this.previewTarget.style.display = 'none';
    }
    onDragLeave(event) {
        event.preventDefault();
        if (!this.element.contains(event.relatedTarget)) {
            this.inputTarget.style.display = 'none';
            this.placeholderTarget.style.display = 'none';
            this.previewTarget.style.display = 'block';
        }
    }
    dispatchEvent(name, payload = {}) {
        this.dispatch(name, { detail: payload, prefix: 'dropzone' });
    }
}
default_1.targets = ['input', 'placeholder', 'preview', 'previewClearButton', 'previewFilename', 'previewImage'];

export { default_1 as default };
